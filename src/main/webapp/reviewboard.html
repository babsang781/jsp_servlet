<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>reviewboard</title>
</head>
<body>
<form>
	<table border="1" width="500">
		<tr>
			<td width="20%"><span id="board_num">1</span></td>
			<td>영화 크루엘라 리뷰</td>
		</tr>
		<tr>
			<td colspan="2">이런 저런 요소를 떠나서 영화 자체로서의 재미가 충분했다. 지금까지 봐온 디즈니의 실사
				영화들은 별로 좋아하지 않았지만 크루엘라라는 캐릭터를 그저 재미없이 현실에 가져다 놓는 게 아닌 재해석을 통해 크루엘라라는
				캐릭터가 더욱더 입체감을 가지게 되었고,디즈니 입장에서도 새로운 디즈니의 먹거리를 발굴해 냈다고해도 충분하리라 생각한다.
				영화 내에서 2편을 기대하기엔 스토리적으로 잘 마무리된 영화이기 때문에 2 편을 기대하기는 좀 힘들긴 하지만 그럼에도
				불구하고 2편을 기대하고 싶다. 제작자들도 이대로 끝내기는 좀 아쉬운 마음인지 끝부분에 후속작을 염두에 두는 장면을 만든
				것으로 보인다.</td>
		</tr>
		<tr>
			<td width="250" align="right">
			<input id="like_btn" type="button"value="좋아요" onclick="like()"></td>
			<td align="left"><span id="like_result"></span></td>
		</tr>
		<tr>
			<td colspan="2">
			<input type="text" size="50">
			<input id="write_com" type="button" value="댓글작성"></td>
		</tr>
		<tr>
			<td colspan="2">
			<ul id="comments" style="list-style:none; padding:0"></ul>
		</tr>
	</table>
	</form>
	
	<script src="./jquery-3.6.0.min.js"></script>
	<script>
	let num = 1;
		$('#write_com').on('click', function(){
			let com = $('input[type=text]').val();
			$('#comments').append('<li class="com'+num+'">'+com+'<input type="button" value="댓글삭제"onclick="del('+num+')"></li>');
			num++;
			$('input[type=text]').val('');
			
		});
		
		function del(num){
			$('.com'+num).remove();
			
		}
		
		function like(){
			if($('#like_btn').val() =="좋아요"){
				$.ajax({
					type: "post",
					data: {"board_num": $('#board_num').html()},
					url: "likeService",
					dataType: "text",
					success: function(data){
						alert(data);
						$('#like_result').html(data);
						$('#like_btn').val("좋아요 취소");
						
					},
					error: function(){
						alert("실패!");
					}
				});
			}else{
				$.ajax({
					type: "post",
					data: {"board_num": $('#board_num').html()},
					url: "dislikeService",
					dataType: "text",
					success: function(data){
						alert(data);
						$('#like_result').html(data);
						$('#like_btn').val("좋아요");
					},
					error: function(){
						alert("실패!");
					}
				});
			}
		}
		
		
		
	</script>
	
</body>
</html>